
const c8b = require('./conv8bitBuffer')

test('checks null buffer', () => {
  let b = Buffer.from('')
  let c = ''
  expect(c8b.conv8bitBuffer(b)).toBe(c)
})

test('checks trademark in buffer', () => {
  let b = Buffer.from([ 0x6e, 0x6f, 0x77, 0x20, 0x69, 0x73, 0o252, 0x20, 0x74, 0x68, 0x65, 0x20, 0x77, 0x69, 0x6e, 0x74, 0x65, 0x72 ])
  let c = 'now is&#153; the winter'
  expect(c8b.conv8bitBuffer(b)).toBe(c)
})

test('checks copyright in buffer', () => {
  let b = Buffer.from([ 0x6e, 0x6f, 0x77, 0x20, 0x69, 0x73, 0o250, 0x20, 0x74, 0x68, 0x65, 0x20, 0x77, 0x69, 0x6e, 0x74, 0x65, 0x72 ])
  let c = 'now is&#169; the winter'
  expect(c8b.conv8bitBuffer(b)).toBe(c)
})

test('checks several copyright, tm in buffer', () => {
  let b = Buffer.from([ 0x6e, 0x6f, 0x77, 0o252, 0x20, 0x69, 0x73, 0o250, 0x20, 0x74, 0x68, 0x65, 0o252, 0o250, 0x20, 0x77, 0x69, 0x6e, 0x74, 0x65, 0x72 ])
  let c = 'now&#153; is&#169; the&#153;&#169; winter'
  expect(c8b.conv8bitBuffer(b)).toBe(c)
})
